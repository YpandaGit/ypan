{
  "filename": "1.md",
  "__html": "<h1>Docsite集成Gitalk</h1>\n<p>本文主要介绍<a href=\"https://docsite.js.org/zh-cn/docs/installation.html\">Dosite</a>如何集成<a href=\"https://github.com/gitalk/gitalk/blob/master/readme-cn.md\">Gitalk</a>,\n前提是已经安装Docsite与Gitalk(<strong>npm方式</strong>)，并且已经初始化了一个docsite（<strong>已发布到github中</strong>）。</p>\n<ul>\n<li>docsite</li>\n</ul>\n<p>阿里开源的静态开源站点搭建工具。</p>\n<ul>\n<li>gitalk</li>\n</ul>\n<p>是一个基于 GitHub Issue 和 Preact 开发的评论插件。</p>\n<h2>将Gitalk集成在Blog页面</h2>\n<ol>\n<li>打开<code>src/pages/blogDetail/index.jsx</code></li>\n<li>引入Gitalk</li>\n</ol>\n<pre><code class=\"language-JS\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'gitalk/dist/gitalk.css'</span>;\n<span class=\"hljs-keyword\">import</span> Gitalk <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'gitalk'</span>;\n</code></pre>\n<ol start=\"3\">\n<li>使用gitalk</li>\n</ol>\n<p>将以下代码加入上述文件中:</p>\n<pre><code class=\"language-js\"><span class=\"hljs-keyword\">const</span> gitalk = <span class=\"hljs-keyword\">new</span> Gitalk({\n  <span class=\"hljs-attr\">clientID</span>: <span class=\"hljs-string\">'your clientID'</span>,<span class=\"hljs-comment\">// 你的clientID</span>\n  clientSecret: <span class=\"hljs-string\">'your clientSecret'</span>,<span class=\"hljs-comment\">//你的clientSecret</span>\n  repo: <span class=\"hljs-string\">'your repo'</span>,<span class=\"hljs-comment\">// 你的仓库名称</span>\n  owner: <span class=\"hljs-string\">' your github name'</span>,<span class=\"hljs-comment\">// 你的github登录名</span>\n  admin: [<span class=\"hljs-string\">'your github name'</span>],<span class=\"hljs-comment\">// 你的github登录名</span>\n  id: <span class=\"hljs-built_in\">window</span>.location.pathname,      <span class=\"hljs-comment\">// Ensure uniqueness and length less than 50</span>\n  distractionFreeMode: <span class=\"hljs-literal\">false</span>  <span class=\"hljs-comment\">// Facebook-like distraction free mode</span>\n});\n</code></pre>\n<p>clientID与clientSecret获取的两种方式：</p>\n<ol>\n<li>github -&gt; settings -&gt; Developer settings -&gt; OAuth Apps -&gt; new OAuth App</li>\n<li>直接进入页面：<a href=\"https://github.com/settings/applications/new\">https://github.com/settings/applications/new</a></li>\n</ol>\n<p><img src=\"https://raw.githubusercontent.com/YpandaGit/pics/master/20190511151310.png\" alt=\"\"></p>\n<p>创建成功之后就可以看到：\n<img src=\"https://raw.githubusercontent.com/YpandaGit/pics/master/20190511152504.png\" alt=\"\"></p>\n<p>对应填入上面代码中即可。</p>\n<ol start=\"4\">\n<li>找到<code>componentDidMount</code>方法，在方法体最后加入代码：</li>\n</ol>\n<pre><code class=\"language-js\">gitalk.render(<span class=\"hljs-string\">'gitalk-container'</span>);\n</code></pre>\n<ul>\n<li>示例：</li>\n</ul>\n<p><img src=\"https://raw.githubusercontent.com/YpandaGit/pics/master/20190511145322.png\" alt=\"\"></p>\n<ol start=\"5\">\n<li>找到render方法，在<code>Footer</code>前加入以下代码：</li>\n</ol>\n<pre><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"blog-content markdown-body\"</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">\"gitalk-container\"</span> /&gt;</span>\n</code></pre>\n<ul>\n<li>示例：</li>\n</ul>\n<p><img src=\"https://raw.githubusercontent.com/YpandaGit/pics/master/20190511145648.png\" alt=\"\"></p>\n<p>最后，执行：<code>docsite build</code>， 然后发不到github中，就可以看到最终成果了。\n<img src=\"https://raw.githubusercontent.com/YpandaGit/pics/master/20190511153000.png\" alt=\"\"></p>\n<hr>\n<p>感谢阅读！</p>\n<p>2019-05-11</p>\n",
  "link": "\\zh-cn\\blog\\docsite\\1.html",
  "meta": {
    "key1": "docsite",
    "key2": "gitalk"
  }
}